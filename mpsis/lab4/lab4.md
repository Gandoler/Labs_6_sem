# lab4 

## üß† –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è?
–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è ‚Äî —ç—Ç–æ 32-–±–∏—Ç–Ω–æ–µ —Å–ª–æ–≤–æ:

–ë–∏—Ç—ã	–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
- [31]	Jump (–±–µ–∑—É—Å–ª–æ–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥)
- [30]	Branch (—É—Å–ª–æ–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥)
- [29:28]	–ú—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –∑–∞–ø–∏—Å—å
- [27:23]	–û–ø–µ—Ä–∞—Ü–∏—è ALU
- [22:18]	–ê–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞ 1 (rd1)
- [17:13]	–ê–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞ 2 (rd2)
- [12:5]	–°–º–µ—â–µ–Ω–∏–µ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∏–ª–∏ immediate
- [4:0]	–ê–¥—Ä–µ—Å –∑–∞–ø–∏—Å–∏ (rd)

## –ü—Ä–∏–∫–æ–ª—å—á–∏–∫–∏

###  –®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ –¥–≤—É—Ö–∫–æ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–æ–º—É –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—é

####  –ß—Ç–æ —Ç–∞–∫–æ–µ –¥–≤—É—Ö–∫–æ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ?

**–î–≤—É—Ö–∫–æ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ** ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª –≤ –¥–≤–æ–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–∞–∫ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö, —Ç–∞–∫ –∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª.

- **–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞**: –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –≤ –æ–±—ã—á–Ω–æ–º –¥–≤–æ–∏—á–Ω–æ–º –≤–∏–¥–µ.
- **–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞**: –ü–æ–ª—É—á–∞—é—Ç—Å—è –ø—É—Ç—ë–º –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö –±–∏—Ç–æ–≤ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–≥–æ —á–∏—Å–ª–∞ –∏ –ø—Ä–∏–±–∞–≤–ª–µ–Ω–∏—è 1.

####  –ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∑–Ω–∞–∫ —á–∏—Å–ª–∞?

- **–ï—Å–ª–∏ —Å—Ç–∞—Ä—à–∏–π –±–∏—Ç (—Å–∞–º–∞—è –ª–µ–≤–∞—è —Ü–∏—Ñ—Ä–∞) —Ä–∞–≤–µ–Ω `0`**, —Ç–æ —á–∏—Å–ª–æ **–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ**.
- **–ï—Å–ª–∏ —Å—Ç–∞—Ä—à–∏–π –±–∏—Ç —Ä–∞–≤–µ–Ω `1`**, —Ç–æ —á–∏—Å–ª–æ **–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ**.

####  –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª –≤ –¥–≤—É—Ö–∫–æ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ

1. **–ë–µ—Ä—ë–º –∞–±—Å–æ–ª—é—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —á–∏—Å–ª–∞** –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ–º –µ–≥–æ –≤ –¥–≤–æ–∏—á–Ω–æ–º –≤–∏–¥–µ.
2. **–ò–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤—Å–µ –±–∏—Ç—ã** (–º–µ–Ω—è–µ–º 0 –Ω–∞ 1 –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç).
3. **–ü—Ä–∏–±–∞–≤–ª—è–µ–º 1** –∫ –ø–æ–ª—É—á–µ–Ω–Ω–æ–º—É —á–∏—Å–ª—É.

#####  –ü—Ä–∏–º–µ—Ä:
–î–ª—è —á–∏—Å–ª–∞ `-5` –≤ 8-–±–∏—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ:

1. –î–≤–æ–∏—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ 5: `00000101`
2. –ò–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –±–∏—Ç—ã: `11111010`
3. –ü—Ä–∏–±–∞–≤–ª—è–µ–º 1: `11111011`

–ò—Ç–∞–∫, `-5` –≤ –¥–≤—É—Ö–∫–æ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–æ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ = `11111011`.

####  –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–≤—É—Ö–∫–æ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è

- **–û–¥–∏–Ω–∞–∫–æ–≤–∞—è –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ –¥–ª—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª**: –°–ª–æ–∂–µ–Ω–∏–µ –∏ –≤—ã—á–∏—Ç–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∑–Ω–∞–∫–∞.
- **–£–ø—Ä–æ—â—ë–Ω–Ω–æ–µ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ**: –ù–µ –Ω—É–∂–Ω–æ —Ä–∞–∑–ª–∏—á–∞—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã.
- **–û–¥–∏–Ω –Ω–æ–ª—å**: –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –¥—Ä—É–≥–∏—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π, –≤ –¥–≤—É—Ö–∫–æ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –Ω–æ–ª—å (–Ω–µ—Ç "–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–≥–æ" –∏ "–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–≥–æ –Ω—É–ª—è").

####  –ü—Ä–∏–º–µ—Ä —Å–ª–æ–∂–µ–Ω–∏—è —á–∏—Å–µ–ª

–°–ª–æ–∂–∏–º 5 –∏ -3:

1. **5** –≤ –¥–≤–æ–∏—á–Ω–æ–π —Ñ–æ—Ä–º–µ (8 –±–∏—Ç): `00000101`
2. **-3** –≤ –¥–≤—É—Ö–∫–æ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–æ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏:
   - –î–≤–æ–∏—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ 3: `00000011`
   - –ò–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –±–∏—Ç—ã: `11111100`
   - –ü—Ä–∏–±–∞–≤–ª—è–µ–º 1: `11111101`

–¢–µ–ø–µ—Ä—å —Å–∫–ª–∞–¥—ã–≤–∞–µ–º:

```
  00000101   (5)
+ 11111101   (-3)
-----------
  00000010   (2)
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: 2.


## –±–∞–∑–æ–≤—ã–π –∫–æ–¥

```asm
0FFFFFE1
20000002
00000023
10046001
4F045FE0
80040000

```

–ø–µ—Ä–µ–≤–æ–¥

```asm
00001111111111111111111111100001
00100000000000000000000000000010
00000000000000000000000000100011
00010000000001000110000000000001
01001111000001000101111111100000
10000000000001000000000000000000
```

–Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

–≤–¥–≤ - –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–ø–∏—Å–∏ (wd_w)


‚ñ∂Ô∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è 0: 0x0FFFFFE1
```asm
   00   00   11111   11111   11111   11111111   00001
 J    = 0
 JF   = 0
 WDM  = 00 ; –≤–¥–≤ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤ 0 (–¥–µ—Ñ–æ–ª—Ç –≤ –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä–µ)
 ALU  = 11111 ; (ALU_GEU)  –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ –±–µ–∑–Ω–∞–∫–æ–≤–æ (–Ω–µ –ø–æ–Ω—è—Ç–Ω–æ –∑–∞—á–µ–º)
 RS1  = 11111  ; 31 —Ä–µ–≥–∏—Å—Ç—Ä 
 RS2  = 11111 ; 31 —Ä–µ–≥–∏—Å—Ç—Ä —Ç–æ—Ç –∂–µ –ø—É–ø—Å–∏–∫
 IMM  = 11111111 ; (-1)  –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞  
 RD   = 00001 ‚Üí r1 ; –∞ —Å—é–¥–∞ –ø—Ä–æ—Å—Ç–æ –∑–∞–≥—Ä—É–∑–∫–∞
```
‚úÖ r1 = -1 —á–µ—Ä–µ–∑ immediate

‚ñ∂Ô∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è 1: 0x20000002
```asm
   00   10   00000   00000   00000   00000000   00010
J    = 0
JF   = 0
WDM  = 10 ; –±–µ—Ä–µ–º —Å–æ —Å–≤–∏—á–∞ sw_i
ALU  = 00000 ; –±—É–¥–µ–º —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å 0 —Å 0 —Ä–µ–≥–∏—Å—Ç—Ä–æ–º
RS1  = 00000
RS2  = 00000
RD   = 00010 ‚Üí r2 ;–∑–∞–ø–∏—Å–∞–ª–∏ –≤–æ 2 —Ä–µ–≥–∏—Å—Ç—Ä
```
‚úÖ r2 = r0 + r0 = 0

‚ñ∂Ô∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è 2: 0x00000023

```asm
   00   00   00000   00000   00000   00000001   00011
J    = 0
JF   = 0
WDM  = 00 ; –±–µ—Ä–µ–º –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∫—É –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º
ALU  = 00000
RS1  = 00000
RS2  = 00000
IMM  = 00000010 ‚Üí 2 ; –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞
RD   = 00011 ‚Üí r3 ; –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ 3 —Ä–µ–≥–∏—Å—Ç—Ä
```
‚úÖ r3 = 2 ‚Äî —à–∞–≥ –ø—Ä–∏–±–∞–≤–∫–∏

‚ñ∂Ô∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è 3: 0x10046001

```asm
   00   01   00000   00001   00011   00000000   00001
J    = 0
JF   = 0
WDM  = 01 ; –¥–µ–ª–∞–µ–º –∞–ª—É –æ–ø–µ—Ä–∞—Ü–∏—é 
ALU  = 00010 ; –æ–ø–µ—Ä–∞—Ü–∏—è < –¥–ª—è –∑–Ω–∞–∫–æ–≤—ã—Ö
RS1  = 00010 ‚Üí r2 ;–±–µ—Ä–µ–º 2 —Ä–µ–≥–∏—Å—Ç—Ä
RS2  = 00100 ‚Üí r4 ;–±–µ—Ä–µ–º 4 —Ä–µ–≥–∏—Å—Ç—Ä?
RD   = 00001 ‚Üí r1 ; —Ä–µ–∑—É–ª—å—Ç–∞—Ç—Ç –≤ –ø–µ—Ä–≤—ã–π
```
‚úÖ r1 = (r2 < r4) ? 1 : 0

‚ñ∂Ô∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è 4: 0x4F045FE0
```asm
   01   00   11110   00001   00010   11111111   00000
J    = 0
JF   = 1 ‚Üí —É—Å–ª–æ–≤–Ω—ã–π jump
WDM  = 00
ALU  = 11110 
RS1  = 00001 ‚Üí r4
RS2  = 00010 ‚Üí r5
IMM  = 11111111 ‚Üí -1 (<<2) = -4
```asm
