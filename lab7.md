## num 1 
–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã
–°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É, —Å–æ–¥–µ—Ä–∂–∞—â—É—é –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–º –∏–Ω—Å—Ç–∏—Ç—É—Ç–∞. –¢–∞–±–ª–∏—Ü–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–æ–º–µ—Ä —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–æ–≥–æ –±–∏–ª–µ—Ç–∞, –≤—Ä–µ–º—è –µ–≥–æ –≤—Ö–æ–¥–∞, –≤—ã—Ö–æ–¥–∞ –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–ª—É—á–∞–π–Ω–æ–µ –∫–æ–¥–æ–≤–æ–µ —á–∏—Å–ª–æ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –≤—É–∑–∞.  


```sql
CREATE TABLE attendance (
attendance_id SERIAL PRIMARY KEY, 
generated_code VARCHAR(64),
person_id integer,
enter_time timestamp,
exit_time timestamp,
FOREIGN KEY (person_id) REFERENCES student_ids (student_id)
);

```

–° –ø–æ–º–æ—â—å—é —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É –¥–∞–Ω–Ω—ã–º–∏. 

```sql
do
$$
DECLARE 
	enter_time timestamp(0);
	exit_time timestamp(0);
	person_id integer; 
	enter_id VARCHAR(64);
BEGIN
	FOR i IN 1..1000000 LOOP

-- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—É—é –¥–∞—Ç—É –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ

	enter_time := to_timestamp(random() * 
(
						extract(epoch from '2023-12-31'::date) - 
						extract(epoch from '2023-01-01'::date)
					)
					 	+ extract(epoch from '2023-01-01'::date)
					);

-- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –≤—Ä–µ–º–µ–Ω–∏, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–±—ã–ª –≤ –≤—É–∑–µ —Å—Ç—É–¥–µ–Ω—Ç (–Ω–µ –±–æ–ª–µ–µ 10 —á–∞—Å–æ–≤)

	exit_time := enter_time + (floor(random() * 36000 + 1)*'1 SECOND'::interval);
	
person_id := (
				SELECT student_id FROM students
				ORDER BY random()
				LIMIT 1
			);

	enter_id := md5(random()::text);

    	INSERT INTO attendance(generated_code, person_id, enter_time,exit_time) 
VALUES(enter_id, person_id, enter_time, exit_time);

	END LOOP;	
END
$$;

```
 ### 1.1

–î–æ–±–∞–≤—å—Ç–µ –≤ —Ç–∞–±–ª–∏—Ü—É attendance –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ, –∏–∑–º–µ—Ä–∏–≤ –≤—Ä–µ–º—è –¥–∞–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏. –î–∞–ª–µ–µ –∏–∑–º–µ—Ä—å—Ç–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞, –≤—ã–≤–æ–¥—è—â–µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ç–∞–±–ª–∏—Ü—ã –≤ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ –ø–æ —Å—Ç–æ–ª–±—Ü—É generated_code. 
–î–æ–±–∞–≤—å—Ç–µ –∏–Ω–¥–µ–∫—Å –Ω–∞ —Å—Ç–æ–ª–±–µ—Ü generated_code. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –¥–≤–µ –æ–ø–µ—Ä–∞—Ü–∏–∏. –°—Ä–∞–≤–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è. –í–æ —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –æ–Ω–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å? –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∑–∞–Ω–µ—Å–∏—Ç–µ –≤ —Ç–∞–±–ª–∏—Ü—É. 

 
1. **–û–ø–µ—Ä–∞—Ü–∏—è 1: –í—Å—Ç–∞–≤–∫–∞ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ç–∞–±–ª–∏—Ü—É `attendance`**


```sql
--—Ä–∞–Ω–¥–æ–º–∏—Ç—å –±—É–¥–µ—Ç –Ω–µ —á–µ—Å—Ç–Ω–æ

INSERT INTO attendance(generated_code, person_id, enter_time, exit_time) 
VALUES (md5(random()::text), 847516, NOW(), NOW() + '5 hours'::interval);
-- –º–∏–Ω—É—Å

INSERT INTO attendance(generated_code, person_id, enter_time, exit_time) 
VALUES ('fixed_code_123', 847516, '2023-10-01 09:00:00', '2023-10-01 14:00:00');
```

   - –ë–µ–∑ –∏–Ω–¥–µ–∫—Å–∞:
     | –û–ø–µ—Ä–∞—Ü–∏—è | –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
     |----------|------------------|
     | –í—Å—Ç–∞–≤–∫–∞  |  3,403 ms        |

<img width="674" alt="image" src="https://github.com/user-attachments/assets/5902ef3c-b74d-4010-b3ce-781f60e05c5b" />


   - –° –∏–Ω–¥–µ–∫—Å–æ–º:
     | –û–ø–µ—Ä–∞—Ü–∏—è | –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
     |----------|------------------|
     | –í—Å—Ç–∞–≤–∫–∞  |    1,940 ms      |
     
<img width="676" alt="image" src="https://github.com/user-attachments/assets/625d2966-9cd0-45dc-8716-ac9cd23d54ac" />

1. **–û–ø–µ—Ä–∞—Ü–∏—è 2: –í—ã–±–æ—Ä–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ç–∞–±–ª–∏—Ü—ã `attendance` –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ —Å—Ç–æ–ª–±—Ü—É `generated_code`**

```sql
SELECT * FROM attendance ORDER BY generated_code LIMIT 10;
```

   - –ë–µ–∑ –∏–Ω–¥–µ–∫—Å–∞:
     | –û–ø–µ—Ä–∞—Ü–∏—è | –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
     |----------|------------------|
     | –í—ã–±–æ—Ä–∫–∞  | 56,785 ms    |


<img width="752" alt="image" src="https://github.com/user-attachments/assets/0c3696d3-fd2a-4cd7-bac6-a3f94ae6d07e" />

   - –° –∏–Ω–¥–µ–∫—Å–æ–º:
     | –û–ø–µ—Ä–∞—Ü–∏—è | –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
     |----------|------------------|
     | –í—ã–±–æ—Ä–∫–∞  |     3,140 ms     |

<img width="766" alt="image" src="https://github.com/user-attachments/assets/3b288b24-961c-4b66-af96-96bb7ec853c7" />


2. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –¥–æ –∏ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞**

<img width="606" alt="image" src="https://github.com/user-attachments/assets/029003f8-80fd-4317-a055-2eff40710cd9" />


   | –û–ø–µ—Ä–∞—Ü–∏—è | –í—Ä–µ–º—è –¥–æ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è T<sub>b</sub> | –í—Ä–µ–º—è –ø–æ—Å–ª–µ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è T<sub>a</sub> | T<sub>a</sub>/T<sub>b</sub> |
   |----------|--------------------------------------|----------------------------------------|-----------------------------|
   | SELECT   | 56,785 ms                            |     3,140 ms                           | 18                          |
   | INSERT   | 3,403 ms                             |     1,940 ms                           | 1.75                        |

–Ω—É –∏ —Ç—É—Ç –ø—Ä–æ–±–ª–µ–º–∞ —Å –≤—ã–≤–æ–¥–æ–º 1000000 –∑–∞–ø–∏—Å–µ–π


—Å –∏–Ω–¥–µ–∫—Å–æ–º 

<img width="1039" alt="image" src="https://github.com/user-attachments/assets/7ab27cc3-d84a-4c90-a790-a7c6d7959f7b" />


–±–µ–∑ –∏–Ω–¥–µ–∫—Å–∞ 

<img width="969" alt="image" src="https://github.com/user-attachments/assets/79d141c0-e041-42f0-a975-e99426cc6129" />




### 1.2
–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–ø—Ä–æ—Å, –≤—ã–≤–æ–¥—è—â–∏–π –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã attendance, –∏–∑–º–µ—Ä—å—Ç–µ –≤—Ä–µ–º—è –µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –î–æ–±–∞–≤—å—Ç–µ —É—Å–ª–æ–≤–∏–µ, –≤—ã–±—Ä–∞–≤ —Ç–æ–ª—å–∫–æ –≤—Å–µ –∑–∞–ø–∏—Å–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –æ–¥–Ω–∏–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Å—Ç—É–¥–µ–Ω—Ç–æ–º. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∏–∑–º–µ—Ä—å—Ç–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –°–æ–∑–¥–∞–π—Ç–µ –∏–Ω–¥–µ–∫—Å –Ω–∞ –∞—Ç—Ä–∏–±—É—Ç person_id –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã. –°—Ä–∞–≤–Ω–∏—Ç–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –¥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞ –∏ –ø–æ—Å–ª–µ. –û–±—ä—è—Å–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.


—á—Ç–æ –±—ã –≤—Å–µ –±—ã–ª–æ —á–µ—Å—Ç–Ω–æ –≤ –Ω–∞—á–∞–ª–µ

```sql
DROP INDEX idx_generated_code;
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑–º–µ—Ä–µ–Ω–∏–π

1. **–ó–∞–ø—Ä–æ—Å –±–µ–∑ —É—Å–ª–æ–≤–∏–π (SELECT)**

   - –ë–µ–∑ –∏–Ω–¥–µ–∫—Å–∞:
     | –û–ø–µ—Ä–∞—Ü–∏—è | –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
     |----------|------------------|
     | SELECT   | 100,987	   |

```sql
SELECT * FROM attendance LIMIT 10;
```

<img width="753" alt="image" src="https://github.com/user-attachments/assets/93919c76-c9d0-468c-95b3-a93553d8fe26" />

```sql
EXPLAIN ANALYZE SELECT * FROM attendance;
```

<img width="842" alt="image" src="https://github.com/user-attachments/assets/4a436ff7-971b-4dfc-b407-53aa0e97bf2f" />

   - –° –∏–Ω–¥–µ–∫—Å–æ–º:
     | –û–ø–µ—Ä–∞—Ü–∏—è | –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
     |----------|------------------|
     | SELECT   | 89,818    |



<img width="839" alt="image" src="https://github.com/user-attachments/assets/9478608e-6e52-432c-ade9-e51fb10f31bc" />


2. **–ó–∞–ø—Ä–æ—Å —Å —É—Å–ª–æ–≤–∏–µ–º (SELECT + WHERE)**

   - –ë–µ–∑ –∏–Ω–¥–µ–∫—Å–∞:
     | –û–ø–µ—Ä–∞—Ü–∏—è | –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
     |----------|------------------|
     | SELECT + WHERE | 53,450 |

```sql
EXPLAIN ANALYZE  SELECT * FROM attendance WHERE person_id = 847516;
```
<img width="887" alt="image" src="https://github.com/user-attachments/assets/fbc7c08a-1fc4-4157-be32-a954f41280dc" />


   - –° –∏–Ω–¥–µ–∫—Å–æ–º:
     | –û–ø–µ—Ä–∞—Ü–∏—è | –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
     |----------|------------------|
     | SELECT + WHERE | 10,151 |


<img width="892" alt="image" src="https://github.com/user-attachments/assets/8f81a175-b9b4-4a41-993e-dbf4f29bcb83" />


3. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –¥–æ –∏ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞**

```sql
CREATE INDEX idx_person_id ON attendance(person_id);
```

   | –û–ø–µ—Ä–∞—Ü–∏—è        | –í—Ä–µ–º—è –¥–æ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è T<sub>b</sub> | –í—Ä–µ–º—è –ø–æ—Å–ª–µ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è T<sub>a</sub> | T<sub>a</sub>/T<sub>b</sub> |
   |-----------------|--------------------------------------|----------------------------------------|-----------------------------|
   | SELECT          | 100,987                        	    | 89,818                         	     |      1.1               |
   | SELECT + WHERE  | 53,450                        	    | 10,151                         	     | 5                         |

4. **–í—ã–≤–æ–¥—ã**

   - –î–ª—è –æ–ø–µ—Ä–∞—Ü–∏–∏ `SELECT` –±–µ–∑ —É—Å–ª–æ–≤–∏–π, –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞. –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–º, —á—Ç–æ –∏–Ω–¥–µ–∫—Å –Ω–∞ –∞—Ç—Ä–∏–±—É—Ç `person_id` –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤—ã–±–æ—Ä–∫—É –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫ —Ç–∞–±–ª–∏—Ü—ã.
   - –î–ª—è –æ–ø–µ—Ä–∞—Ü–∏–∏ `SELECT + WHERE`, –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–º–µ–Ω—å—à–∏–ª–æ—Å—å –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞. –ò–Ω–¥–µ–∫—Å –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å —Å—Ç—Ä–æ–∫–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∑–∞–¥–∞–Ω–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é `person_id`, —á—Ç–æ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞.

### 1.3

–°–æ—Å—Ç–∞–≤—å—Ç–µ –∑–∞–ø—Ä–æ—Å –∫ —Ç–∞–±–ª–∏—Ü–µ attendance, –≤—ã–≤–æ–¥—è—â–∏–π –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –≤ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —Å—Ç–æ–ª–±–µ—Ü generated_code –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Å–∏–º–≤–æ–ª–æ–º ‚Äòa‚Äô. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∏ –æ–±—ä—è—Å–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –∏–Ω–¥–µ–∫—Å? 

```sql
EXPLAIN ANALYZE
SELECT * FROM attendance 
WHERE generated_code LIKE '%a'
ORDER BY generated_code;
```
<img width="957" alt="image" src="https://github.com/user-attachments/assets/207cbcf2-bd6f-413c-844a-3f5fcd6b525b" />

–ó–∞–ø—Ä–æ—Å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω–¥–µ–∫—Å, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É—Å–ª–æ–≤–∏–µ `LIKE '%a'`, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ –º–æ–∂–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏. –í PostgreSQL –∏–Ω–¥–µ–∫—Å—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö –ø—Ä–µ—Ñ–∏–∫—Å–Ω—ã–π –ø–æ–∏—Å–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `LIKE 'prefix%'`), –Ω–æ –Ω–µ –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤ –∫–æ–Ω—Ü–µ —Å—Ç—Ä–æ–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `LIKE '%a'`). –ö–æ–≥–¥–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–∏—Å–∫ –ø–æ –æ–∫–æ–Ω—á–∞–Ω–∏—é —Å—Ç—Ä–æ–∫–∏, –∫–∞–∫ –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, –æ–Ω–∞ –Ω–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, –∏ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ø—Ä–æ–≤–æ–¥–∏—Ç –ø–æ–ª–Ω—ã–π —Å–∫–∞–Ω —Ç–∞–±–ª–∏—Ü—ã, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –≤—Å–µ —Å—Ç—Ä–æ–∫–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —ç—Ç–æ–º—É —É—Å–ª–æ–≤–∏—é.


## num 2

–≤–æ –ø–µ—Ä–≤—ã—Ö —Å–æ–∑–¥–∞–¥–∏–º —Ç–∞–∫–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞ 

```sql
INSERT INTO students (student_id, last_name, first_name, patronymic, students_group_number, birthday, email)
VALUES (13, '–®–∞—Ä–∏–∫–æ–≤', '–ü–æ–ª–∏–≥—Ä–∞—Ñ', '–ü–æ–ª–∏–≥—Ä–∞—Ñ–æ–≤–∏—á', '–ò–í–¢-42', '2000-01-01', 'sharikov@gmail.com');


INSERT INTO student_ids (student_id, issue_date, expiration_date)
VALUES (13, CURRENT_DATE, CURRENT_DATE + INTERVAL '4 years');


INSERT INTO fields (field_id, field_name, structural_unit_id, zet, semester)
VALUES ('550e8400-e29b-41d4-a716-446655440000', '–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã 7–ª', 1, 5, 1);


INSERT INTO fields (field_id, field_name, structural_unit_id, zet, semester)
VALUES ('550e8400-e29b-41d4-a716-446655440001', '–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö 7–ª', 1, 5, 1);


INSERT INTO field_comprehensions (student_id, field, mark)
VALUES (13, '550e8400-e29b-41d4-a716-446655440000', 4);

INSERT INTO field_comprehensions (student_id, field, mark)
VALUES (13, '550e8400-e29b-41d4-a716-446655440001', 4);
```

1. **–†–∞–±–æ—Ç–∞ —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏**

–í —Ä–∞–º–∫–∞—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ü–µ–Ω–∫–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞ –ø–æ –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º —Å–∏—Å—Ç–µ–º–∞–º –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –ø–µ—Ä–≤–æ–º –∏ –≤—Ç–æ—Ä–æ–º –æ–∫–Ω–µ. –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –≤–Ω–æ–≤—å –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –≤–Ω–µ—Å–∏—Ç–µ –Ω–æ–≤—É—é –æ—Ü–µ–Ω–∫—É –ø–æ –ë–∞–∑–∞–º –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è. 

–ø—Ä–µ–ø–æ–¥–æ–≤–∞—Ç–µ–ª—å

```sql
UPDATE field_comprehensions SET mark = 5 WHERE student_id = 13 AND field = (SELECT field_id FROM fields WHERE field_name = '–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã 7–ª');
INSERT INTO field_comprehensions (student_id, field, mark) VALUES (13, (SELECT field_id FROM fields WHERE field_name = '–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö 7–ª'), 5);
COMMIT;
```
–º–µ—Ç–æ–¥–∏—Å—Ç 

```sql
SELECT * FROM field_comprehensions WHERE student_id = 42;
```
—Ç—É—Ç –±–∞–≥ —Å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π

<img width="1029" alt="image" src="https://github.com/user-attachments/assets/5bf70c21-3854-44fb-8ad9-2dfcfbfda2d3" />

–∞ —Ç—É—Ç —É–∂–µ –∫–æ–º–ø–∏—Ç —Å–ª—É—á–∏–ª—Å—è –∏ –≤—Å–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

<img width="1158" alt="image" src="https://github.com/user-attachments/assets/7a5de0e6-84a6-454b-93a3-8b21233c3ed2" />


2. **–û—Ç–º–µ–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**
   
–£–¥–∞–ª–∏—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –≤–µ—Ä–Ω–∏—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –æ—Ü–µ–Ω–∫—É –≤ –ø—Ä–µ–∂–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è, —Ç–æ–ª—å–∫–æ –ø–æ –æ–∫–æ–Ω—á–∞–Ω–∏–∏ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–º –æ—Ç–∫–∞—Ç–∏—Ç–µ –∏—Ö —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã ROLLBACK.  –ö–∞–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —É–≤–∏–¥–µ–ª–∞ –º–µ—Ç–æ–¥–∏—Å—Ç?

```sql
BEGIN;

DELETE FROM field_comprehensions WHERE student_id = 13 AND field = (SELECT field_id FROM fields WHERE field_name = '–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö 7–ª');
UPDATE field_comprehensions SET mark = 4 WHERE student_id = 13 AND field = (SELECT field_id FROM fields WHERE field_name = '–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã 7–ª');

ROLLBACK;

```

```sql
SELECT * FROM field_comprehensions WHERE student_id = 13;
```

<img width="1083" alt="image" src="https://github.com/user-attachments/assets/6c4810ad-854b-4895-ba5d-bd70065b11d6" />

3. **–ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**

–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã –≤ –ø. 2.3.1, –∏—Å–ø–æ–ª—å–∑—É—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –∏–∑–æ–ª—è—Ü–∏–∏. 
–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å	–ú–µ—Ç–æ–¥–∏—Å—Ç
BEGIN ISOLATION LEVEL ‚Ä¶
–ò–∑–º–µ–Ω—è–µ—Ç –æ—Ü–µ–Ω–∫—É
–î–æ–±–∞–≤–ª—è–µ—Ç –æ—Ü–µ–Ω–∫—É
COMMIT	BEGIN ISOLATION LEVEL ‚Ä¶
–°–º–æ—Ç—Ä–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ —Ñ–∏–∫—Å–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–º
–°–º–æ—Ç—Ä–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ —Ñ–∏–∫—Å–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–º

 **Read Uncommitted** 


**Read Committed**  

<img width="1049" alt="image" src="https://github.com/user-attachments/assets/c9c89d04-8688-4ae8-945e-599586c97f11" />

<img width="1053" alt="image" src="https://github.com/user-attachments/assets/78b2fbfd-2cb1-40bd-a3c5-1d2b88389dd6" />

<img width="1105" alt="image" src="https://github.com/user-attachments/assets/10712b35-1e95-428b-9352-691cd47aa4df" />


| –£—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏     | –ó–∞—â–∏—Ç–∞ –æ—Ç –∞–Ω–æ–º–∞–ª–∏–π                                       | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å          |
|----------------------|-------------------------------------------------|-----------------------------|
| **Read Uncommitted** | ‚ùå –ì—Ä—è–∑–Ω–æ–µ —á—Ç–µ–Ω–∏–µ, –Ω–µ–ø–æ–≤—Ç–æ—Ä—è—é—â–µ–µ—Å—è —á—Ç–µ–Ω–∏–µ, —Ñ–∞–Ω—Ç–æ–º–Ω—ã–µ –∑–∞–ø–∏—Å–∏ | üî• –ë—ã—Å—Ç—Ä–æ, –Ω–æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ  |
| **Read Committed**   | ‚úÖ –ù–µ—Ç –≥—Ä—è–∑–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è, ‚ùå –Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã –Ω–µ–ø–æ–≤—Ç–æ—Ä—è—é—â–µ–µ—Å—è —á—Ç–µ–Ω–∏–µ –∏ —Ñ–∞–Ω—Ç–æ–º–Ω—ã–µ –∑–∞–ø–∏—Å–∏ | ‚öñÔ∏è –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é –∏ —Å–∫–æ—Ä–æ—Å—Ç—å—é |
| **Repeatable Read**  | ‚úÖ –ù–µ—Ç –≥—Ä—è–∑–Ω–æ–≥–æ –∏ –Ω–µ–ø–æ–≤—Ç–æ—Ä—è—é—â–µ–≥–æ—Å—è —á—Ç–µ–Ω–∏—è, ‚ùå –Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã —Ñ–∞–Ω—Ç–æ–º–Ω—ã–µ –∑–∞–ø–∏—Å–∏ | ‚è≥ –ß—É—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ |
| **Serializable**     | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ | üê¢ –ú–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ |
