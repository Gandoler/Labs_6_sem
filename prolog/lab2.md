# LAB 2

## 1. –§—É–Ω–∫—Ü–∏—è `min_positive_number(List)`

–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `min_positive_number(List)`, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ, –≤—Ö–æ–¥—è—â–µ–µ –≤ `List`. –ï—Å–ª–∏ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª –Ω–µ—Ç, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–µ—Ä–Ω—É—Ç—å –∞—Ç–æ–º `error`.

–§–∞–∫—Ç is_positive(X) ‚Äì –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ X —á–∏—Å–ª–æ–º –∏ –±–æ–ª—å—à–µ –ª–∏ –æ–Ω –Ω—É–ª—è.
–ü—Ä–µ–¥–∏–∫–∞—Ç min_positive_number/2 ‚Äì –Ω–∞—Ö–æ–¥–∏—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –≤ —Å–ø–∏—Å–∫–µ:
–§–∏–ª—å—Ç—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫, –æ—Å—Ç–∞–≤–ª—è—è —Ç–æ–ª—å–∫–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞ (include/3).
–ï—Å–ª–∏ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª –Ω–µ—Ç, —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Äì error.
–ò–Ω–∞—á–µ –Ω–∞—Ö–æ–¥–∏—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å—Ä–µ–¥–∏ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö (min_list/2).


```prolog
% –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ X —á–∏—Å–ª–æ–º –∏ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º
is_positive(X) :- number(X), X > 0.

% min_positive_number(+List, -Min)
% –ù–∞—Ö–æ–¥–∏—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –≤ —Å–ø–∏—Å–∫–µ List
% –ï—Å–ª–∏ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª –Ω–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç error
min_positive_number(List, Min) :-
    % –û—Å—Ç–∞–≤–ª—è–µ–º –≤ —Å–ø–∏—Å–∫–µ —Ç–æ–ª—å–∫–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞
    include(is_positive, List, PositiveList),
    % –ï—Å–ª–∏ –ø–æ—Å–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º error
    (   PositiveList = [] -> Min = error
    % –ò–Ω–∞—á–µ –Ω–∞—Ö–æ–¥–∏–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å—Ä–µ–¥–∏ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö
    ;   min_list(PositiveList, Min)
    ).
```

```prolog
min_positive_number([3, -10, 4, -3, 1], Min)
```

<img width="829" alt="image" src="https://github.com/user-attachments/assets/086d30dc-2a69-4ac4-b150-a8f993f937be" />

## 2. –§—É–Ω–∫—Ü–∏—è `zipwith(Fun, List1, List2)`

–ù–µ —Å–º–æ—Ç—Ä—è –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤ –º–æ–¥—É–ª–µ `lists` —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `zipwith(Fun, List1, List2)`. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π `Fun` (—Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç –¥–≤—É—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤) –Ω–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞—Ö, –≤–∑—è—Ç—ã—Ö –∏–∑ —Å–ø–∏—Å–∫–æ–≤ `List1` –∏ `List2`. –í —Å–ª—É—á–∞–µ —Ä–∞–∑–Ω—ã—Ö –¥–ª–∏–Ω —Å–ø–∏—Å–∫–æ–≤ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤—ã–∫–∏–Ω—É—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.


```prolog
% zipwith(+Fun, +List1, +List2, -Result)
% –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é Fun –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —ç–ª–µ–º–µ–Ω—Ç–∞–º –¥–≤—É—Ö —Å–ø–∏—Å–∫–æ–≤.
% –ï—Å–ª–∏ —Å–ø–∏—Å–∫–∏ —Ä–∞–∑–Ω–æ–π –¥–ª–∏–Ω—ã ‚Äî –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.

% –ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π: –µ—Å–ª–∏ –æ–±–∞ —Å–ø–∏—Å–∫–∞ –ø—É—Å—Ç—ã–µ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–æ–∂–µ –ø—É—Å—Ç–æ–π.
zipwith(_, [], [], []) :- !.

% –û—à–∏–±–∫–∞, –µ—Å–ª–∏ –ø–µ—Ä–≤—ã–π —Å–ø–∏—Å–æ–∫ –¥–ª–∏–Ω–Ω–µ–µ –≤—Ç–æ—Ä–æ–≥–æ.
zipwith(_, [_|_], [], _) :- 
    throw(error(length_mismatch, zipwith/3)).

% –û—à–∏–±–∫–∞, –µ—Å–ª–∏ –≤—Ç–æ—Ä–æ–π —Å–ø–∏—Å–æ–∫ –¥–ª–∏–Ω–Ω–µ–µ –ø–µ—Ä–≤–æ–≥–æ.
zipwith(_, [], [_|_], _) :- 
    throw(error(length_mismatch, zipwith/3)).

% –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π —Å–ª—É—á–∞–π: 
% 1. –ë–µ—Ä—ë–º –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç X –∏–∑ –ø–µ—Ä–≤–æ–≥–æ —Å–ø–∏—Å–∫–∞ –∏ Y –∏–∑ –≤—Ç–æ—Ä–æ–≥–æ.
% 2. –í—ã–∑—ã–≤–∞–µ–º –ø–µ—Ä–µ–¥–∞–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é Fun —Å X –∏ Y, –ø–æ–ª—É—á–∞–µ–º Z.
% 3. –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≤—ã–∑—ã–≤–∞–µ–º zipwith –¥–ª—è –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
zipwith(Fun, [X|Xs], [Y|Ys], [Z|Zs]) :-
    call(Fun, X, Y, Z),
    zipwith(Fun, Xs, Ys, Zs).

% –ü—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏, —Å–æ–∑–¥–∞—é—â–µ–π –ø–∞—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–∫–æ—Ä—Ç–µ–∂–∏).
pair(X, Y, (X, Y)).

% –ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞ zipwith/3, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—ë—Ç —Å–ø–∏—Å–æ–∫ –ø–∞—Ä.
example(Result) :-
    zipwith(pair, [1,2,3], [4,5,6], Result).

```

```prolog
example(Result)
```

–§—É–Ω–∫—Ü–∏—è zipwith/3 ‚Äî —ç—Ç–æ –æ–±–æ–±—â—ë–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è zip/2, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—É—é –±–∏–Ω–∞—Ä–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –∫–æ –≤—Å–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —ç–ª–µ–º–µ–Ω—Ç–∞–º –¥–≤—É—Ö —Å–ø–∏—Å–∫–æ–≤.


–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è
–ë–µ—Ä—ë–º —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ –æ–±–æ–∏—Ö —Å–ø–∏—Å–∫–æ–≤ –ø–æ –æ—á–µ—Ä–µ–¥–∏.
–ü—Ä–∏–º–µ–Ω—è–µ–º –ø–µ—Ä–µ–¥–∞–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é (Fun).
–ó–∞–ø–∏—Å—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –Ω–æ–≤—ã–π —Å–ø–∏—Å–æ–∫.
–ï—Å–ª–∏ —Å–ø–∏—Å–∫–∏ —Ä–∞–∑–Ω–æ–π –¥–ª–∏–Ω—ã ‚Äî –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É.

<img width="697" alt="image" src="https://github.com/user-attachments/assets/f530b9d5-08c7-4bb3-9644-4f02d3635ad5" />


<img width="849" alt="image" src="https://github.com/user-attachments/assets/6b64f86e-6ece-455e-bb36-613404506314" />


## 3. –§—É–Ω–∫—Ü–∏—è `iteratemap(F, X0, N)`

–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `iteratemap(F, X0, N)`, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–ª–∏–Ω—ã `N`, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è `F` –∫ `X0`.


–†–∞–∑–±–æ—Ä iteratemap/4
–≠—Ç–æ—Ç –ø—Ä–µ–¥–∏–∫–∞—Ç —Å–æ–∑–¥–∞—ë—Ç —Å–ø–∏—Å–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ F –∫ –Ω–∞—á–∞–ª—å–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é X N —Ä–∞–∑.

üîç –†–∞–∑–±–æ—Ä –∫–æ–¥–∞
```prolog
% iteratemap(+F, +X, +N, -Result)
% –°—Ç—Ä–æ–∏—Ç —Å–ø–∏—Å–æ–∫ –∏–∑ N+1 —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –Ω–∞—á–∏–Ω–∞—è —Å X, –ø—Ä–∏–º–µ–Ω—è—è F –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ.
% –ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π: –µ—Å–ª–∏ N == 0, —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç–æ–π.
iteratemap(_, _, 0, []).
```
–ï—Å–ª–∏ N = 0, –∏—Ç–µ—Ä–∞—Ü–∏–π –Ω–µ—Ç, —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ [].

```prolog
iteratemap(F, X, N, [X|Result]) :-
    N > 0,              % –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ N –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ
    N1 is N - 1,        % –£–º–µ–Ω—å—à–∞–µ–º N –Ω–∞ 1
    call(F, X, X1),     % –í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é F, –ø–æ–ª—É—á–∞–µ–º X1 (—Å–ª–µ–¥—É—é—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
    iteratemap(F, X1, N1, Result).  % –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≤—ã–∑—ã–≤–∞–µ–º –¥–ª—è X1
```
 –í –∫–∞–∂–¥–æ–º —à–∞–≥–µ:
–î–æ–±–∞–≤–ª—è–µ–º X –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
–í—ã–∑—ã–≤–∞–µ–º F(X, X1), —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.
–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≤—ã–∑—ã–≤–∞–µ–º iteratemap/4, –ø–æ–∫–∞ N –Ω–µ —Å—Ç–∞–Ω–µ—Ç 0.



``` prolog
% –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏
iteratemap(_, _, 0, []).
iteratemap(F, X, N, [X|Result]) :-
    N > 0,
    N1 is N - 1,
    call(F, X, X1),
    iteratemap(F, X1, N1, Result).
```

```prolog
iteratemap([X, Y]>>(Y is X * 2), 1, 4, Result).
```

<img width="947" alt="image" src="https://github.com/user-attachments/assets/34f04470-254c-42d4-ab8c-b5aa0bc5337f" />


## 4. –§—É–Ω–∫—Ü–∏—è `diff(F, DX)`

–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `diff(F, DX)`, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `F` –æ—Ç –æ–¥–Ω–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –∏ —à–∞–≥ `DX`, –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –æ–¥–Ω–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞: –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –∫ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ `F`. 


```prolog
diff(F, DX, X, Result) :-
    X1 is X + DX,
    call(F, X, Y),
    call(F, X1, Y1),
    Result is (Y1 - Y) / DX.

square(X, Y) :- Y is X * X.
```

```prolog
diff(square, 0.001, 1.0, Result).
```

X1 ‚Äî –Ω–æ–≤–∞—è —Ç–æ—á–∫–∞ —á—É—Ç—å –¥–∞–ª—å—à–µ X (–Ω–∞ DX –≤–ø—Ä–∞–≤–æ).
–í—ã—á–∏—Å–ª—è–µ–º Y = F(X), –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ X.
–í—ã—á–∏—Å–ª—è–µ–º Y1 = F(X1), –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ X1.
(Y1 - Y) / DX ‚Äî —ç—Ç–æ –ø—Ä–∏–±–ª–∏–∂—ë–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–π F'(X).

<img width="598" alt="image" src="https://github.com/user-attachments/assets/806dcbe9-b657-4851-9936-123b8540a09d" />


–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—Å–ø–æ–º–Ω–∏—Ç—å (–∏–ª–∏ –Ω–∞–π—Ç–∏) —Ñ–æ—Ä–º—É–ª—É, –∫–æ—Ç–æ—Ä–∞—è –¥–∞—ë—Ç –ª—É—á—à–µ–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–π, —á–µ–º `(F(X + DX) - F(X))/DX`, –Ω–æ –æ–Ω–∞ —Ç–æ–∂–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è.

## 5. –§—É–Ω–∫—Ü–∏—è `for(Init, Cond, Step, Body)`

–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `for(Init, Cond, Step, Body)`, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ü–∏–∫–ª `for` (I = Init; Cond(I); I = Step(I)) { Body(I) } –≤ C-–ø–æ–¥–æ–±–Ω—ã—Ö —è–∑—ã–∫–∞—Ö:

- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è "—Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ" `I`. –í –Ω–∞—á–∞–ª–µ —ç—Ç–æ `Init`.
- –ù–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ª–∏ —É—Å–ª–æ–≤–∏–µ `Cond(I)`.
- –ï—Å–ª–∏ –¥–∞, —Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è `Body(I)`. –ü–æ—Ç–æ–º –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∫ `Step(I)` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ `Cond`.
- –ï—Å–ª–∏ –Ω–µ—Ç, —Ç–æ —Ä–∞–±–æ—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è.

```prolog
% –û—Å–Ω–æ–≤–Ω–æ–π —Å–ª—É—á–∞–π: —Ü–∏–∫–ª –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è, –µ—Å–ª–∏ Cond(Init) –∏—Å—Ç–∏–Ω–∞.
for(Init, Cond, Step, Body) :-
    call(Cond, Init),      % –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏–µ Cond(Init)
    call(Body, Init),      % –í—ã–∑—ã–≤–∞–µ–º —Ç–µ–ª–æ —Ü–∏–∫–ª–∞ Body(Init)
    call(Step, Init, Next), % –í—ã—á–∏—Å–ª—è–µ–º —Å–ª–µ–¥—É—é—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ Next = Step(Init)
    for(Next, Cond, Step, Body). % –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤ —Å Next

```

```porlog
for(1, [X]>>(X =< 5), [X, Y]>>(Y is X + 1), [X]>>(writeln(X))).
```

–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏–µ Cond(Init).
–ï—Å–ª–∏ true, –≤—ã–ø–æ–ª–Ω—è–µ—Ç Body(Init).
–ó–∞—Ç–µ–º –≤—ã—á–∏—Å–ª—è–µ—Ç Next = Step(Init).
–í—ã–∑—ã–≤–∞–µ—Ç for/4 —Å–Ω–æ–≤–∞, –Ω–æ —É–∂–µ —Å Next.



<img width="880" alt="image" src="https://github.com/user-attachments/assets/a64286dd-253e-44a8-8bf4-2f92aa50586b" />


## 6. –§—É–Ω–∫—Ü–∏—è `sortBy(Comparator, List)`

–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `sortBy(Comparator, List)`, –∫–æ—Ç–æ—Ä–∞—è —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ `List`, –∏—Å–ø–æ–ª—å–∑—É—è `Comparator` –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤. `Comparator(X, Y)` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–¥–∏–Ω –∏–∑ –∞—Ç–æ–º–æ–≤ `less` (–µ—Å–ª–∏ `X < Y`), `equal` (`X == Y`), `greater` (`X > Y`) –¥–ª—è –ª—é–±—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ `List`. –ú–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, –Ω–æ —É–∫–∞–∂–∏—Ç–µ, –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å–ª–∏—è–Ω–∏–µ–º –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–≤—è–∑–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤.


```prolog
% –ë–∞–∑–æ–≤—ã–µ —Å–ª—É—á–∞–∏: –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –∏ —Å–ø–∏—Å–æ–∫ –∏–∑ –æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —É–∂–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã.
sortBy(_, [], []).
sortBy(_, [X], [X]).


sortBy(Comparator, List, Sorted) :-
    length(List, Len),              % –í—ã—á–∏—Å–ª—è–µ–º –¥–ª–∏–Ω—É —Å–ø–∏—Å–∫–∞
    Half is Len // 2,               % –ù–∞—Ö–æ–¥–∏–º —Å–µ—Ä–µ–¥–∏–Ω—É —Å–ø–∏—Å–∫–∞
    length(Left, Half),             % –°–æ–∑–¥–∞—ë–º —Å–ø–∏—Å–æ–∫ Left –¥–ª–∏–Ω—ã Half
    append(Left, Right, List),      % –†–∞–∑–¥–µ–ª—è–µ–º List –Ω–∞ Left –∏ Right
    sortBy(Comparator, Left, LeftSorted),   % –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å–æ—Ä—Ç–∏—Ä—É–µ–º –ª–µ–≤—É—é —á–∞—Å—Ç—å
    sortBy(Comparator, Right, RightSorted), % –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å–æ—Ä—Ç–∏—Ä—É–µ–º –ø—Ä–∞–≤—É—é —á–∞—Å—Ç—å
    merge(Comparator, LeftSorted, RightSorted, Sorted). % –û–±—ä–µ–¥–∏–Ω—è–µ–º –¥–≤–∞ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–∞

% –ï—Å–ª–∏ –æ–¥–∏–Ω –∏–∑ —Å–ø–∏—Å–∫–æ–≤ –ø—É—Å—Ç ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –¥—Ä—É–≥–æ–π —Å–ø–∏—Å–æ–∫.
merge(_, [], Right, Right).
merge(_, Left, [], Left).

% –ï—Å–ª–∏ X < Y, X –∏–¥—ë—Ç –ø–µ—Ä–≤—ã–º.
merge(Comparator, [X|Left], [Y|Right], [X|Result]) :-
    call(Comparator, X, Y, less),
    merge(Comparator, Left, [Y|Right], Result).

% –ï—Å–ª–∏ X > Y, Y –∏–¥—ë—Ç –ø–µ—Ä–≤—ã–º.
merge(Comparator, [X|Left], [Y|Right], [Y|Result]) :-
    call(Comparator, X, Y, greater),
    merge(Comparator, [X|Left], Right, Result).

% –ï—Å–ª–∏ X == Y, –≤–∫–ª—é—á–∞–µ–º –æ–±–∞ —ç–ª–µ–º–µ–Ω—Ç–∞.
merge(Comparator, [X|Left], [Y|Right], [X, Y|Result]) :-
    call(Comparator, X, Y, equal),
    merge(Comparator, Left, Right, Result).

num_cmp(X, Y, less) :- X < Y.
num_cmp(X, Y, greater) :- X > Y.
num_cmp(X, Y, equal) :- X =:= Y.

```

```prolog
sortBy(num_cmp, [4, 2, 5, 1, 3], Sorted).
```

<img width="920" alt="image" src="https://github.com/user-attachments/assets/31a7f09b-2cfb-44fd-8818-2039809e5614" />




